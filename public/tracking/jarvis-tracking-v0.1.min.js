"use strict";var Jarvis;(function(t){(function(t){var i=function(){function t(){this.API_DOMAIN="es.eduwill.net",this.PROFILE_LIVE="L",this.PROFILE_STG="S",this.PROFILE_DEV="D",this.LOG_LEVEL_DEBUG=4e3,this.LOG_LEVEL_INFO=3e3,this.LOG_LEVEL_ERROR=2e3,this.LOG_LEVEL_NONE=1e3,this._tracking={userId:"",pageUrl:"",refererUrl:"",authCookie:"",ip:"",agent:""},this.fn_active()}return t.prototype.fn_active=function(){this._tracking.userId=this.fn_getCookie("EduwillUID"),this._tracking.pageUrl=document.location.href,this._tracking.authCookie=this.fn_getCookie("EDWAUTH01"),this._tracking.refererUrl=document.referrer,this._tracking.ip=this.fn_getCookie("loginIp"),""!=this._tracking.ip&&""!=this._tracking.pageUrl?(this.fn_config(),this.fn_setTracking()):console.log("사용자 정보 없음.")},t.prototype.fn_config=function(){var t="//";this._tracking.pageUrl.indexOf("//l-")>-1||this._tracking.pageUrl.indexOf("//d-")>-1?t+="d-":(this._tracking.pageUrl.indexOf("//s-")>-1||this._tracking.pageUrl.indexOf("//test")>-1)&&(t+="s-"),this.API_DOMAIN=t+this.API_DOMAIN},t.prototype.fn_setTracking=function(){var t="/visit/_doc";this.fn_postAjax(this.API_DOMAIN+t,this._tracking,this.fn_success,this.fn_error)},t.prototype.fn_success=function(){console.log("success tracking record!")},t.prototype.fn_error=function(t){console.log("Error : "+t.responseText)},t.prototype.fn_postAjax=function(t,i,n,e){$.ajax({type:"POST",async:!0,url:t,crossDomain:!0,contentType:"application/json; charset=utf-8",dataType:"json",timeout:5e3,cache:!1,data:i,success:function(t){"function"==typeof n&&n(t)},error:function(t){"function"==typeof e&&e(t)}})},t.prototype.fn_getCookie=function(t){var i,n,e,r=document.cookie.split(";");for(i=0;i<r.length;i++)if(n=r[i].substr(0,r[i].indexOf("=")),e=r[i].substr(r[i].indexOf("=")+1),n=n.replace(/^\s+|\s+$/g,""),n==t)return unescape(e);return""},t}();t.TrackingHandler=i})(t.Tracking||(t.Tracking={}))})(Jarvis||(Jarvis={}));var tracking=new Jarvis.Tracking.TrackingHandler;